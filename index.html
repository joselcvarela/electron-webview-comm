<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <webview id="foo" src="test.html" preload="preload.js" nodeintegration></webview>
    <script>
      function getAllInputs() {
        document.querySelectorAll('input').forEach(elem => {
          elem.addEventListener('focus', () => {
            sendToElectron('focused')
          })
        })
      }
    </script>
    <script>
      let webview = document.querySelector('#foo')
      webview.addEventListener('ipc-message', (event) => {
        openKey
      })
      webview.addEventListener('dom-ready', () => {
        webview.executeJavaScript(`${getAllInputs.toString()};getAllInputs()`)
      })
    </script>
  </body>
</html>
